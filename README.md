# Лабораторная работа №3: Обработка форм на PHP

## 👤 Автор
**Любанская Ангелина Валерьевна**  
Группа: 3МО-3

## 📋 Описание проекта
Веб-приложение для регистрации участников на хакатон с обработкой данных на стороне сервера с использованием PHP.

## 🎯 Цели работы
- Научиться обрабатывать данные формы на стороне сервера с помощью PHP
- Сохранять данные формы в сессии
- Сохранять данные в файл и выводить их обратно на странице
- Выводить все сохранённые данные в отдельной странице

## 🛠 Технологии
- **Nginx** - веб-сервер
- **PHP 8.2 FPM** - обработка PHP скриптов
- **Docker** - контейнеризация
- **HTML/CSS/JavaScript** - фронтенд

## 📁 Структура проекта
```
web_laba/
├── www/                    # Веб-файлы
│   ├── index.php          # Главная страница
│   ├── hackathon-form.php # Форма регистрации
│   ├── process.php        # Обработчик формы
│   ├── view.php           # Просмотр всех регистраций
│   ├── registrations.txt  # Файл с данными (создается автоматически)
│   └── ...
├── nginx/
│   └── default.conf       # Конфигурация Nginx
└── docker-compose.yml     # Docker конфигурация
```

## 🚀 Запуск проекта

### Требования
- Docker
- Docker Compose

### Команды для запуска
```bash
# Перейти в директорию проекта
cd C:\Users\Home\Desktop\web_laba

# Запустить контейнеры
docker-compose up -d

# Остановить контейнеры
docker-compose down
```

### Доступ к приложению
- Главная страница: http://localhost:8080/index.php
- Форма регистрации: http://localhost:8080/hackathon-form.php
- Все регистрации: http://localhost:8080/view.php
- PHP информация: http://localhost:8080/phpinfo.php

## 📝 Функциональность

### Форма регистрации
- **Обязательные поля:** Имя, возраст, направление, роль в команде, email
- **Валидация:** Проверка корректности email, возраст от 16 до 50 лет
- **Дополнительные опции:** Воркшопы, менторство, рассылка мероприятий

### Обработка данных
1. **Валидация** на стороне сервера
2. **Сохранение в сессию** для мгновенного отображения
3. **Сохранение в файл** `registrations.txt` для постоянного хранения
4. **Вывод ошибок** при некорректном заполнении

### Просмотр данных
- **Главная страница:** Показывает данные последней регистрации из сессии
- **Страница просмотра:** Отображает все зарегистрированные участники из файла

## 🔧 Особенности реализации

### Сессии
- Использование `session_start()` для работы с сессиями
- Сохранение данных формы в `$_SESSION`
- Отображение данных на главной странице

### Работа с файлами
- Сохранение данных в текстовый файл `registrations.txt`
- Формат данных: `дата|имя|возраст|направление|роль|email|опыт|воркшопы|менторство|рассылка`
- Чтение и отображение всех записей

### Валидация
- Проверка обязательных полей
- Валидация email с помощью `filter_var()`
- Проверка возрастного диапазона
- Вывод ошибок пользователю

### В файле registrations.txt:
```
2025-10-15 22:04:55|Ангелина|19|web-development|designer|email@example.com|Нет|Нет|Нет|Да
```
## 📅 Дата
16 октября 2025


# 📚 **Лабораторная работа №4: Composer + GitHub API + Пользовательские классы**

## 👩‍🎓 **Студент:** Любанская Ангелина Валерьевна  
## 🎯 **Группа:** 3МО-3 
## 📅 **Дата выполнения:** Октябрь 2025

---

## 🎯 **Цель работы**

Освоить работу с Composer, создание пользовательских классов PHP, интеграцию с внешними API и работу с куками/сессиями.

---

## 📋 **Задачи**

- [x] Настроить структуру проекта с Composer
- [x] Создать класс для работы с внешними API (GitHub, курсы валют)
- [x] Реализовать класс для работы с пользовательскими данными и куками
- [x] Интегрировать API в процесс обработки форм
- [x] Реализовать современный интерфейс с отображением API данных
- [x] Организовать работу с сессиями и валидацией данных

---

## 🛠 **Технологии**

- **PHP 8.2** + Composer
- **Docker** + Nginx + PHP-FPM
- **GitHub API** (REST)
- **HTML5** + CSS3 + JavaScript
- **Git** + GitHub

---

## 📁 **Структура проекта**

```
web_laba/
├── 📄 docker-compose.yml          # Конфигурация Docker
├── 📄 composer.json               # Конфигурация Composer
├── 📁 nginx/
│   └── 📄 default.conf            # Конфиг Nginx
├── 📁 vendor/                     # Зависимости Composer
└── 📁 www/                        # Исходный код
    ├── 📄 index.php               # Главная страница
    ├── 📄 hackathon-form.php      # Форма регистрации
    ├── 📄 process.php             # Обработчик формы
    ├── 📄 view.php               # Просмотр всех регистраций
    ├── 📄 ApiClient.php          # Класс для работы с API
    ├── 📄 UserInfo.php           # Класс для пользовательских данных
    ├── 📄 test-api.php           # Тест API
    └── 📄 test-userinfo.php      # Тест UserInfo
```

---

## 🚀 **Функциональность**

### 🔧 **Класс ApiClient**
- 📂 **Получение репозиториев GitHub** - популярные проекты с GitHub API
- 💡 **Генерация идей для хакатона** - случайные идеи проектов с технологическим стеком
- 💰 **Курсы валют** - актуальные курсы через ExchangeRate API
- 🛡 **Обработка ошибок** - запасные данные при недоступности API

### 👤 **Класс UserInfo**
- 🌐 **Определение браузера и ОС** - анализ User-Agent
- 🍪 **Управление куками** - отслеживание отправок форм
- 📊 **Сетевые данные** - IP-адрес, геолокация
- 🎨 **Форматированный вывод** - красивое отображение информации

### 📊 **Основные страницы**
- **Главная** - отображение данных из API и пользовательской информации
- **Форма регистрации** - валидация + интеграция с API
- **Просмотр участников** - список всех зарегистрированных
- **Тестовые страницы** - отладка функциональности

---

## 🏃‍♀️ **Запуск проекта**

### 1. Клонирование репозитория
```bash
git clone https://github.com/Angelina22102005/web__laba.git
cd web_laba
```

### 2. Переход на ветку Lab 4
```bash
git checkout lab4-composer-api-classes
```

### 3. Запуск контейнеров
```bash
docker-compose up -d
```

### 4. Открытие в браузере
```
http://localhost:8080/index.php
```

---

## 📊 **Доступные страницы**

| Страница | Описание |
|----------|----------|
| 🏠 `index.php` | Главная страница с API данными |
| 📝 `hackathon-form.php` | Форма регистрации на хакатон |
| 👥 `view.php` | Просмотр всех участников |
| 🧪 `test-api.php` | Тестирование ApiClient |
| 🧪 `test-userinfo.php` | Тестирование UserInfo |
| ℹ️ `phpinfo.php` | Информация о PHP |

---

## 🔧 **API интеграции**

### GitHub API
```php
$apiClient = new ApiClient();
$repos = $apiClient->getGitHubRepositories(5); // 5 репозиториев
```

### ExchangeRate API  
```php
$rates = $apiClient->getExchangeRates(); // Курсы валют
```

### Генерация идей
```php
$idea = $apiClient->getRandomHackathonIdea(); // Случайная идея
```

---

## 🍪 **Работа с куками**

### Отслеживание отправок
```php
UserInfo::saveSubmissionTime(); // Сохранить время отправки
$count = UserInfo::getSubmissionCount(); // Получить количество
```

### Управление сессиями
```php
UserInfo::generateVisitorId(); // Уникальный ID посетителя
UserInfo::clearSubmissionCookies(); // Очистка куков
```

---

## 🎨 **Интерфейс**

### Особенности дизайна:
- ✅ **Адаптивный дизайн** - работает на всех устройствах
- ✅ **Современный UI** - градиенты, тени, анимации
- ✅ **Информативные карточки** - данные API в структурированном виде
- ✅ **Визуальные иконки** - улучшение UX
- ✅ **Валидация форм** - обработка ошибок в реальном времени

---

## 📈 **Результаты**

### ✅ **Выполненные задачи:**
1. **Composer** - настроена автозагрузка классов
2. **API интеграция** - работа с GitHub и курсами валют
3. **Пользовательские классы** - ApiClient и UserInfo
4. **Работа с куками** - отслеживание пользовательских действий
5. **Современный интерфейс** - красивый и функциональный UI
6. **Валидация данных** - обработка ошибок форм
7. **Docker окружение** - изолированная среда разработки

### 🎯 **Достижения:**
- Успешная интеграция с внешними API
- Создание переиспользуемых классов
- Реализация полнофункциональной системы регистрации
- Современный и отзывчивый интерфейс

# Тестовые страницы
http://localhost:8080/test-api.php
http://localhost:8080/test-userinfo.php

